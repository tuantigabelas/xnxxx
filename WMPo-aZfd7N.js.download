if (self.CavalryLogger) { CavalryLogger.start_js(["vQiwT"]); }

__d("HostnameRewriter",["URI","isFacebookURI","lowerFacebookDomain"],(function(a,b,c,d,e,f){__p&&__p();var g=function(a){return String(a).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},h=null,i=null,j=new RegExp("^(.*(?:channel-proxy|edge-chat).*)\\.(facebook\\.com)$","i"),k=new RegExp("facebook\\.com$"),l=new RegExp("^www\\.(|.*\\.)facebook\\.com$"),m=null,n="facebook.com",o=!1,p=!1,q=new RegExp("facebookcorewwwi\\.onion$"),r=new RegExp("facebookcorewwwi\\.testonion$"),s=new RegExp("fbcdn\\.net$"),t="fbcdn23dssr3jqnq.onion",u="fbcdn23dssr3jqnq.testonion",v=new RegExp("^www\\."),w=new RegExp("(^|\\.)(facebook\\.com|workplace\\.com)$","i");function x(a){h=null;a?a="(^|\\.)":a="^";m=a+g(n)+"$";i=null}function y(){if(m==null)return null;if(h)return h;h=new RegExp(m,"i");return h}function z(){if(i)return i;i=new RegExp("(^|\\.)("+g(n)+"|facebook\\.com)$","i");return i}function A(){return function(a){a=new(b("URI"))(a);var c=j.exec(a.getDomain());if(!c||c.length<3)return a;a.setDomain("edge-chat."+c[2]);return a}}function B(){return function(a){a=new(b("URI"))(a);z().test(a.getDomain())&&a.setProtocol("https");return a}}function C(){return function(a){a=new(b("URI"))(a);var c=a.getDomain();z().test(c)&&n!=null?a.setDomain(c.replace(k,n)):o&&c!==null?a.setDomain(c.replace(s,t)):p&&c!==null&&a.setDomain(c.replace(s,u));return a}}function D(){return function(a){a=new(b("URI"))(a);var c=a.getDomain();l.test(c)&&a.setDomain(c.replace(v,"web."));return a}}a={registerFacebookFilters:function(a,c){n=a,o=n!=null&&q.test(n),p=n!=null&&r.test(n),x(c),b("isFacebookURI").setRegex(y()),b("URI").registerFilter(A()),b("URI").registerFilter(B()),b("URI").registerFilter(C()),b("lowerFacebookDomain").setDomain(n)},registerInternetDotOrgFilters:function(a,c){n=a,b("URI").registerFilter(D())},treatWorkplaceAsFacebookURI:function(){b("isFacebookURI").setRegex(w)}};e.exports=a}),null);
__d("PhotosAppSection",["ProfileTabUtils","TidyArbiterMixin","TimelineAppSectionCuration"],(function(a,b,c,d,e,f){var g=babelHelpers["extends"]({init:function(a){var c=b("ProfileTabUtils").getIDForSectionKey(a);b("TimelineAppSectionCuration").subscribe("toggle_drawer",function(a,b){b.section.id===c&&g.inform("toggle_drawer",b)})}},b("TidyArbiterMixin"));e.exports=g}),null);
__d("PhotoCreateButtonsVisibility",["csx","Arbiter","CSS","DOMQuery","Event","Parent","$"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){a=b("Parent").bySelector(a,"._3cz");return b("DOMQuery").find(a,"._69l")}a={addHideClickListener:function(a){b("Event").listen(a,"click",function(){b("CSS").hide(h(a))})},addShowClickListener:function(a){b("Event").listen(a,"click",function(){b("CSS").show(h(a))})},hideButtons:function(a){a=b("$")("pagelet_timeline_medley_photos");b("CSS").hide(b("DOMQuery").find(a,"._69l"))},showButtonOnTabChange:function(a){b("Arbiter").subscribe("Medley/tab-change",function(c){b("CSS").show(a)})}};e.exports=a}),null);
__d("XRelayBootloadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/relay/bootload/",{component:{type:"String",required:!0},params:{type:"String",required:!0},route:{type:"String",required:!0},uri:{type:"String",required:!0}})}),null);